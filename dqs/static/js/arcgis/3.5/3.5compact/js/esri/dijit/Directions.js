/*
 COPYRIGHT 2009 ESRI

 TRADE SECRETS: ESRI PROPRIETARY AND CONFIDENTIAL
 Unpublished material - all rights reserved under the
 Copyright Laws of the United States and applicable international
 laws, treaties, and conventions.

 For additional information, contact:
 Environmental Systems Research Institute, Inc.
 Attn: Contracts and Legal Services Department
 380 New York Street
 Redlands, California, 92373
 USA

 email: contracts@esri.com
 */
//>>built
require({cache:{"url:esri/dijit/templates/Directions.html":"<div class=\"${options.theme}\" role=\"presentation\">\r\n    <div data-dojo-attach-point=\"_widgetContainer\" class=\"${_widgetContainerClass}\" role=\"presentation\">\r\n        <div class=\"${_stopsContainerClass}\" data-dojo-attach-point=\"_dndNode\" role=\"presentation\">\r\n            <table class=\"${_stopsClass}\" data-dojo-attach-point=\"_dndNode\"></table>\r\n            <div class=\"${_clearClass}\"></div>\r\n            <div class=\"${_stopsButtonContainerClass}\">\r\n                <div role=\"button\" class=\"${_stopsAddDestinationClass}\" data-dojo-attach-point=\"_addDestinationNode\" data-dojo-attach-event=\"ondijitclick:_addStopButton\">${_i18n.widgets.directions.addDestination}</div>\r\n                <div role=\"button\" class=\"${_stopsOptionsButtonClass}\" data-dojo-attach-point=\"_optionsButtonNode\" data-dojo-attach-event=\"ondijitclick:_toggleOptionsMenu\">${_i18n.widgets.directions.showOptions}</div>\r\n            \t<div class=\"${_clearClass}\"></div>\r\n            </div>\r\n            <div role=\"presentation\" class=\"${_stopsOptionsMenuClass}\" data-dojo-attach-point=\"_optionsMenuNode\">\r\n                <ul>\r\n                    <li class=\"${_stopsFindOptimalOrderClass}\" data-dojo-attach-point=\"_findOptimalOrderItemNode\"><input tabindex=\"0\" data-dojo-attach-point=\"_findOptimalOrderNode\" type=\"checkbox\" id=\"${id}_find_optimal_order\" /><label for=\"${id}_find_optimal_order\">${_i18n.widgets.directions.findOptimalOrder}</label></li>\r\n                    <li class=\"${_stopsReturnToStartClass}\" data-dojo-attach-point=\"_returnToStartItemNode\"><input tabindex=\"0\" data-dojo-attach-point=\"_returnToStartNode\" type=\"checkbox\" id=\"${id}_stopsReturnToStart\" /><label for=\"${id}_stopsReturnToStart\">${_i18n.widgets.directions.returnToStart}</label></li>\r\n                    <li class=\"${_stopsUseTrafficClass}\" data-dojo-attach-point=\"_useTrafficItemNode\"><input tabindex=\"0\" data-dojo-attach-point=\"_useTrafficNode\" type=\"checkbox\" id=\"${id}_stopsUseTraffic\" /><label for=\"${id}_stopsUseTraffic\">${_i18n.widgets.directions.useTraffic}</label></li>\r\n                </ul>\r\n                <div class=\"${_clearClass}\"></div>\r\n            </div>\r\n            <div class=\"${_stopsGetDirectionsContainerClass}\">\r\n                <div tabindex=\"0\" role=\"button\" class=\"${_stopsGetDirectionsClass}\" data-dojo-attach-event=\"ondijitclick:_directionsButton\">${_i18n.widgets.directions.getDirections}</div>\r\n                <div class=\"${_clearClass}\"></div>\r\n            </div>\r\n    \t</div>\r\n    \t<div class=\"${_clearClass}\"></div>\r\n    \t<div class=\"${_resultsContainerClass}\" role=\"presentation\">\r\n        \t<div class=\"${_routesContainerClass}\" data-dojo-attach-point=\"_resultsNode\" role=\"presentation\"></div>\r\n    \t</div>\r\n    </div>\r\n</div>"}});define("esri/dijit/Directions",["require","dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array","dojo/_base/Color","dijit/_WidgetBase","dijit/_OnDijitClickMixin","dijit/_TemplatedMixin","dojo/keys","dojo/has","dojo/on","dojo/mouse","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/dom-attr","dojo/query","dojo/number","dojo/i18n!esri/nls/jsapi","dojo/text!esri/dijit/templates/Directions.html","dojo/dom-construct","dojo/promise/all","dojo/Deferred","dojo/dnd/Source","esri/kernel","esri/graphic","esri/units","esri/InfoTemplate","esri/SpatialReference","esri/layers/ArcGISDynamicMapServiceLayer","esri/geometry/Point","esri/geometry/Extent","esri/geometry/Polyline","esri/geometry/mathUtils","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/TextSymbol","esri/symbols/Font","esri/dijit/Geocoder","esri/dijit/Popup","esri/tasks/FeatureSet","esri/tasks/RouteTask","esri/tasks/RouteParameters","esri/toolbars/edit","dojo/NodeList-dom","dojo/NodeList-traverse","dojo/uacss"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,on,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,all,_16,_17,_18,_19,_1a,_1b,_1c,_1d,_1e,_1f,_20,_21,_22,_23,_24,_25,_26,_27,_28,_29,_2a,_2b){var _2c=_2([_7,_8,_9],{declaredClass:"esri.dijit.Directions",templateString:_14,basePath:_1.toUrl("esri/dijit"),constructor:function(_2d,_2e){var _2f=this;_2f._setClasses();_2f._setTemplates();_2f._setPublicDefaults();_4.mixin(_2f.options,_2d);_2f._setPrivateDefaults();_2f._setTrafficDefaults();_2f._widgetProperties();_2f.set("geocoders",[]);var _30=_2f.watch("theme",_2f._updateTheme);_2f._watchEvents.push(_30);var _31=_2f.watch("stops",_2f._updateStops);_2f._watchEvents.push(_31);_2f.domNode=_2e;},startup:function(){var _32=this;_32._optionsCheckboxes();_32._setStops();_32._dnd=new _17(_32._dndNode,{skipForm:true,withHandles:true});if(_32.options.map){if(_32.options.map.loaded){_32._init();}else{var _33=_3.connect(_32.options.map,"onLoad",function(){_32._init();});_32._connectEvents.push(_33);}}else{_32._init();}},destroy:function(){var _34=this;var i;_34.clearDirections();_34._removeTrafficLayer();if(_34._watchEvents){for(i=0;i<_34._watchEvents.length;i++){_34._watchEvents[i].unwatch();}}if(_34._globalGeocoder){_34._globalGeocoder.destroy();}if(_34._dnd){_34._dnd.destroy();}if(_34.geocoders.length){for(i=0;i<_34.geocoders.length;i++){_34.geocoders[i].destroy();}}if(_34._onEvents){for(i=0;i<_34._onEvents.length;i++){_34._onEvents[i].remove();}}if(_34._geocoderFindEvents){for(i=0;i<_34._geocoderFindEvents.length;i++){_34._geocoderFindEvents[i].remove();}}if(_34._geocoderWatchEvents){for(i=0;i<_34._geocoderWatchEvents.length;i++){_34._geocoderWatchEvents[i].unwatch();}}if(_34._geocoderSelectEvents){for(i=0;i<_34._geocoderSelectEvents.length;i++){_34._geocoderSelectEvents[i].remove();}}if(_34._connectEvents){for(i=0;i<_34._connectEvents.length;i++){_3.disconnect(_34._connectEvents[i]);}}_34._disconnectResults();_15.empty(_34.domNode);_34.inherited(arguments);},clearDirections:function(){var _35=this;_35._routeParams.stops.features=[];_35.set("directions",null);_35._clearStopGraphics();_35._clearRouteGraphics();_35._clearInfoWindow();_35._clearResultsHTML();_35.onDirectionsClear();},reset:function(){var _36=this;_36.clearDirections();_36._removeTrafficLayer();_36._setTrafficDefaults();_36._configureRouteOptions();_36._widgetProperties();_36._optionsCheckboxes();_36.updateStops(_36.options.stops);},onLoad:function(){},onDirectionsStart:function(){var _37=this;_11(_37._widgetContainer).addClass(_37._resultsLoadingClass);_37._solveActive=true;},onDirectionsFinish:function(){var _38=this;_11(_38._widgetContainer).removeClass(_38._resultsLoadingClass);_38._solveActive=false;},onDirectionsClear:function(){},onSegmentSelect:function(){},onSegmentHighlight:function(){},removeStops:function(){var _39=this;if(_39._stops.length){while(_39._stops.length){_39.removeStop();}}},removeStop:function(_3a){var _3b=this;if(_3b._stops.length){if(typeof _3a==="undefined"){_3a=_3b._stops.length-1;}var _3c=_3b._dnd.getAllNodes();var _3d=_3c[_3a];_3b.geocoders[_3a].destroy();_3b.geocoders.splice(_3a,1);_3b._stops.splice(_3a,1);_3b._setStops();_3b._geocoderSelectEvents[_3d.id].remove();_3b._geocoderFindEvents[_3d.id].remove();_3b._geocoderWatchEvents[_3d.id].unwatch();_15.destroy(_3d);_3b._dnd.sync();_3b._stopsRemovable();_3b._optionsMenu();_3b._checkMaxStops();_3b._fixIcons();_3b._sortGeocoders();}},updateStops:function(_3e){var _3f=this;_3f.removeStops();return _3f.addStops(_3e);},addStops:function(_40,_41){var _42=this;var i;if(typeof _41==="undefined"){_41=_42._stops.length;}var def=new _16();if(_40&&_40.length){_42._getCandidates(_40).then(function(e){if(e&&e.length){for(i=0;i<e.length;i++){_42._insertStop(e[i],_41+i);}_42._setStops();def.resolve(e);}else{_42._resultError(_13.widgets.directions.error.noAddresses);def.resolve();}});}else{_42._resultError(_13.widgets.directions.error.noStops);def.resolve();}return def;},addStop:function(_43,_44){var _45=this;if(typeof _44==="undefined"){_44=_45._stops.length;}var def=new _16();_45._checkMaxStops();if(!_45.maxStopsReached){_45._getCandidate(_43,_44).then(function(_46){_45._insertStop(_46,_44);_45._setStops();},function(_47){def.resolve(_47);});}else{_45._resultError(_13.widgets.directions.error.maximumStops);def.resolve();}return def;},updateStop:function(_48,_49){var _4a=this;if(_4a._stops.length){if(typeof _49==="undefined"){_49=_4a._stops.length-1;}return _4a._updateStop(_48,_49);}},getDirections:function(){var _4b=this;_4b._directionsDeferred=new _16();if(_4b._calculateValidStops()>=_4b._minStops){if(!_4b._solveActive){_4b.onDirectionsStart();_4b.clearDirections();_4b._dnd.sync();_4b._sortGeocoders();_4b._getCandidates(_4b.get("stops")).then(function(_4c){_4b._stops=_4c;_4b._setStops();var _4d=_4b._validateStops(_4c);if(_4d.error){var _4e=_13.widgets.directions.error.locator;var _4f=_4b.geocoders[_4d.index];if(_4f){_4e=_13.widgets.directions.error.unknownStop.replace("<name>",_4f.get("value"));}_4b._resultError(_4e);_4b._directionsDeferred.resolve();_4b.onDirectionsFinish(new Error([_4e]));}else{_4b._configureRoute();}});}}else{_4b.clearDirections();_4b._resultError(_13.widgets.directions.error.notEnoughStops);_4b._directionsDeferred.resolve();_4b.onDirectionsFinish(new Error([_13.widgets.directions.error.notEnoughStops]));}return _4b._directionsDeferred;},unhighlightSegment:function(){var _50=this;if(_50.options.map&&_50.options.map.graphics&&_50.options.showSegmentHighlight){_50.options.map.graphics.remove(_50._segmentGraphic);_50._segmentGraphic=null;}},highlightSegment:function(_51){var _52=this;if(typeof _51==="undefined"){_51=0;}var _53=_52.directions.features[_51];if(_53.attributes){_53.attributes.step=(_51+1);}var _54=new _20(_53.geometry);var _55;var _56=_54.getPoint(0,0);var _57=_54.getPoint(0,1);var _58=_21.getLength(_56,_57);if(!_58){_54=_56;_55=_56;}else{_55=_54.getPoint(0,0);}_52.unhighlightSegment();_52._segmentGraphic=new _19(_54,_52.options.segmentSymbol,_53.attributes,_52.options.segmentInfoTemplate);if(_52._segmentGraphic&&_52.options.map&&_52.options.map.graphics){if(_52.options.showSegmentHighlight){_52.options.map.graphics.add(_52._segmentGraphic);}}},zoomToSegment:function(_59){var _5a=this;if(typeof _59==="undefined"){_59=0;}if(_5a.options.map){var _5b=_5a.directions.features[_59];var _5c=_5b.geometry;var _5d=new _20(_5c);var _5e=_5d.getExtent();var _5f=_5a.options.map.setExtent(_5e,true);_5f.then(function(){_5a._showSegmentPopup(_5b,_59);});}},centerAtSegmentStart:function(_60){var _61=this;if(typeof _60==="undefined"){_60=0;}if(_61.options.map){var _62=_61.directions.features[_60];var _63=_62.geometry;var _64=_63.getPoint(0,0);var _65=_61.options.map.centerAt(_64);_65.then(function(){_61._showSegmentPopup(_62,_60);});}},zoomToFullRoute:function(){var _66=this;if(_66.options.map){_66._clearInfoWindow();_66.unhighlightSegment();_66.options.map.setExtent(_66.directions.extent,true);}},_removeTrafficLayer:function(){var _67=this;if(_67._trafficLayer&&_67.options.map){_67.options.map.removeLayer(_67._trafficLayer);_67._trafficLayer=false;}},_setTrafficDefaults:function(){},_setPublicDefaults:function(){var _68=this;_68.options={map:null,theme:"simpleDirections",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",directions:null,showReturnToStartOption:true,showUseOptimalRouteOption:true,returnToStart:false,useOptimalRoute:false,routeTaskUrl:location.protocol+"//route.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",routeParams:{},stops:["",""],geocoderOptions:{autoComplete:true,autoNavigate:false},stopsInfoTemplate:new _1b("Location",_68._stopTpl),segmentInfoTemplate:new _1b("Route",_68._routeTpl),textSymbolFont:new _25("11px",_25.STYLE_NORMAL,_25.VARIANT_NORMAL,_25.WEIGHT_NORMAL,"Arial, Helvetica, sans-serif"),textSymbolColor:new _6([255,255,255]),textSymbolOffset:{x:0,y:10.875},fromSymbol:new _22({"url":_68.basePath+"/images/Directions/greenPoint.png","height":21.75,"width":15.75,"imageData":"iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo4OTI1MkU2ODE0QzUxMUUyQURFMUNDNThGMTA3MjkzMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo4OTI1MkU2OTE0QzUxMUUyQURFMUNDNThGMTA3MjkzMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg5MjUyRTY2MTRDNTExRTJBREUxQ0M1OEYxMDcyOTMxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjg5MjUyRTY3MTRDNTExRTJBREUxQ0M1OEYxMDcyOTMxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+iVNkdQAABJlJREFUeNp0VltvG0UUnpkdr72261CnCQWEIA9FqOKlqooARUKCtAUhoA+VoBVRhfgFXKSKJ97goRL8ARCIclGgL0VUkBBAoBaVoggEQQVSAhFS06SJje3Y3t25cc7srL3YjddHs3N85pvvfOfMyJRs83n8o+P7POI9yQibooTeBa68ISbSRv+hifpCGHX2s6dnfrrRWjroOPzB0T0+zZ0q8uDRSrniF/MB8X2fADhR8IRRRDphh7Q6rbgtOucU0Sdnj59Z2hb00PtHD+Zp/p2x6uitO4o7iLYP8DMafjVE2wXUboALm50W2ahtXO3q8MTX02fnh0Affu/IkSAXnL55dLzMPU6kURZMIZQhFtRk2VBKcpQTIQVZ21hrdUX4zDcnPv2kBzr59mP3BLnChfGx8YrHPKIAELSzMPhQk+ydzpOvIYwywjFeK7K+vt6IlZw8/+y5RZ4gm9eCUrGCmkUyBkCV0Sd5UlBtTLIhRWQE9ixwsVwe6dY3X4WwJ+j9bx7a7/v5i6O7qlxisFZJAvBF7Rjty56CWlmszilj6BNgXd+syTCO7uNK62nuezyUkWWASTPHDtOjbgOHkJTOsbXAyJhIC+rlODdROM211gcQKBJxoh+EKAs4AGqybHVfBvdICNIU/IDHYbcJiS6le4wwbW1B9UDXJcg9QBxtbglh1BlAJzjoUxIGQZFRwtAypgnjtH0spDG9MWVs34xrN5uBLnEoTKQUgDLgZ6hliLunBaIDhy4LYhyotptZlphGyLUhfyspxxj3AIpaVqikdgyzoGn7p0xNj71rNamweCscWC0qoQ8YRm3K2OgpeFoc+j9FSUYKB+4OgxIK4RcZUJ6RsUgqCrShxWzza9035aw/lzYGY5P4xFSMR5vMcFpm87opL4HjXsr76dLhC2xYhgx3I0BfoS7RCp+3K/e8vn+Ke2zWK+cYofQG9yMlw1eK1aAni9oSWil9eOmFhXkPnbXZ1eXqwVsirfQU9Vynm75lymLbxvpSP4yqI4iR5uWlFxdOI56Xbro5t3qhOrW7ZmL1EOFwp7k6pRXuWaZgBmuwJSIl1fNXXvrxjRTLy2ZTm1v9YeTBXedNbCYZZ1U4pdt+NGiomuKKEvKp5ZM/f5z9zctc1vju1b9cv5q/M/icBd4+KNztlnGWKfYjAMqm+K7zZ/PYP6d+X3TrafbmR8N71QcrOPMLd5RGdj838WFup393orNLWRki6vFv197661i40m6AKwYLneG79BzDPNhNYFWwnfguGyKgPl32bwseoTnKekVpS9n49vorWwv1JsSVwAJHCHcW2Agsk3rBBZXBihhcn11biTfDixpPik1bEZyj34EVXXzJrUccWwrbZo5+B6ztRpvO1kLjjO5qW3YccZ5JeTAecQxqqV0Q6hM5KVIrNL5a/77yQPUyLbK9qiMv49zFhW6MMnPE0dwxlQ48ckXDNHJOq0C2xByreHtxhPk1sK4DEI5dut7+QWCZCyj9MXKLWmD/gl1Xtfhd6F2CI86dv+XiIrdOpeeCDd0VyW7KGbLptn9p/mrgNsIxwzKN0QO3IvlPgAEA3AQhIZtaN54AAAAASUVORK5CYII=","contentType":"image/png","type":"esriPMS"}).setOffset(0,10.875),fromSymbolDrag:new _22({"url":_68.basePath+"/images/Directions/greenPointMove.png","height":21.75,"width":15.75,"imageData":"iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzU5RTBFMjk2QzlCMTFFMkI3NTI4NEEyOTA0NjEyMEYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzU5RTBFMkE2QzlCMTFFMkI3NTI4NEEyOTA0NjEyMEYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3NTlFMEUyNzZDOUIxMUUyQjc1Mjg0QTI5MDQ2MTIwRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3NTlFMEUyODZDOUIxMUUyQjc1Mjg0QTI5MDQ2MTIwRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkWg288AAAVnSURBVHjadFVrbBVFFD4zO3fvo7e9baEBIUohQBQRRWwQhJDwLBIRE4yAEmPgh4l/NGrqP0wkIhJ8JYYYfCAqBuGHkBgoIK9QIzVEAiXYQoHGpi2l9NrXvbs7OzOe2Z29vRTYm9OZOXvmm+9858yWwH2e535ZN9MC63kKdDEBMhVdcQXKlUq2SBBHuRIHDq3Ze/5ee8lIx7I9q6fYJLYtxZLLy9JldiqeBNu2AcFB4M9xXcg5ORjIDXhDPPebAFlXv27/lfuCLv1p9ZI4ie+qqhw1rjRVCjL4KZjMJsAUVg0t/nW4wm8EB+iN/bkB6Ont6chL59UT6w8ci3CsaLLox1WrErH43jFVVaNisRg40gVPeDDZngBL0vMhw0phkv0Q9PBeaPc6wVMcbBaDRDJR6jj5F8avnHSp7deWZo1F9Z95362YTsH6PlNenkatYJDnIMfzkPMdeDazECzLKtiK8kXgcJTAywMKAD5KUl5ZUWoRa7fG0Xgs1EBtSZakyrRmru+BRODo2dH1AyRpAjaOWws7O/ZAXjjgYgaKKAClgBILGLUglU5n8tnbH+KWlWzO10tnUcuqZXGKzPKgpAilJhBo1+F2hjohy9b8dTwQe0Bh/aUM/Ao4cIlZ2BQYo8trdi6aRfHlemZbzPFRQ7QnMzPgi+mbwRc++NIHjiPHkTGGPhH4fDxYoH352BaoKX8CmbuBWTHGlFLrmZSyRlfY5R48M7oGNlSvCxjEUBmdJjGsNVN9EPJEthLiKIn2bax+GaRUcKbnLEiC3YJ4TCg5Ec8GIiTMr3o6CAy0fOrjOxuaEPh29mf3vCgLxsyBkzcbAp0RdCLSlSVcaVACJ7obYMaoaUHgpvNbC22sAd9//F30hQcprSuOH8ysC9Ynus4EEmFBdBYlDAvjCkyLUArHO05jNQHefPR1uJi9bG4HKRSqCX0aLgLVvk+adsDRjlNByaQunlQOQzluCN+voszC20Ogvv0kHG0/VWAYgQaF0mwKTBUsr18TzANAHKWPBVSyjSLhJsHDFtH9KaUIq4up6FGnFbfsgFXcihfeBfE413vCvejjQsM3kUc+n72MMnKYpe0CK0KG02548dBdhZm7r9YwBgiFCEd/gIMSqpaSND0mPdEovLD3tC5CDNvmxu13XFO9Lrw38YG5yJKLRo1n3TrYriqWPXADW+oVEqNEmVOjX3P2KnQOdUMmUQZfXdgFB1sPF96FVMPCiRyXKMNrzW80thY+fVO3z6ojMfKRlWRB+iOadHiuonSjNYDI46Xg6r2Wt89tvePTd/tIZ0Pl4rG9yhMLgRGmJVVmszJsolaKABW2jhjkrvDFW1ff+fvTu76n+uk90vlXZsHoM8pT8yijlYTCfR+pO6afXxXcf+la3YV9xe+sov8Aem5lf+/uiFcnD9OkNZMw8mDAuJip7kcE9Pv5H7nW/rX/bmtuMvtJ8b8TYr6rNlrCmJ2YUJIZu2Hiz7EK+2FiDWuKLQM86/3T9c31tU7bUB+6PDTHmJ77lmEYRytHq0Sr0HO/jyeJTa7Z45O1WEAaXU8x5Pt9p29tGjyX7ce4ErSkIaRP5miCFqWeMEFptJQOztbfbPNuO39KfVOCtAXotfYbsJSJLzH7NU5QCl1MYejn0IbMGKQzeK5vv8zLoOx61OuilEfGaxyltZQmSOvjGikiS/Qd7z5bNrfyMknRaSLnX9ZrE+eY0S1aaxzJDFPfgLumaFbw8Q+1SuKdPkLLrGl6xHUXWt4AcMMu2q9N0eF7UXjpmk0DaP+h3RK93m7sXdCjXhv/gIlzzT4R3YuR7a3MacKYZpMfuth/SeFHQ49FLKMYWXxr9fO/AAMAeko3KTmnLXwAAAAASUVORK5CYII=","contentType":"image/png","type":"esriPMS"}).setOffset(0,10.875),stopSymbol:new _22({"url":_68.basePath+"/images/Directions/bluePoint.png","height":21.75,"width":15.75,"imageData":"iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowRDNGRjhFQzNDMDcxMUUyQTlERUFFMkE4NTNDNjgwMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDowRDNGRjhFRDNDMDcxMUUyQTlERUFFMkE4NTNDNjgwMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjBEM0ZGOEVBM0MwNzExRTJBOURFQUUyQTg1M0M2ODAyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjBEM0ZGOEVCM0MwNzExRTJBOURFQUUyQTg1M0M2ODAyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+G7OGVQAABIpJREFUeNqEVE1oXUUUPvPz7vvPHy9FIi4KWiS6KSW4UHBToUXwb1ewCILLrhTEiLizi+JKd25iFaUiBYWCmGy6abUIukitVBGLkIZE4stLXt79mZnjOTNzk9vXFO/jvJk795xvvnO+MyPm37sO/CRSgRICQApoaFoQ8rgGfFFKOCnAHaOVOjrInBC3jRXLxsE3AO4XgwLy3AIKBAfosTTc/zxGdqGt8fRkt5W0mnWoJzUQ9KNQyLJidriXPj0YjhZ3UrhCvm+T/V4FGAd9rqXtUm96aq7baQESiwIR8hQILrAAUYNmJ4Fmu5s0d4cv/7PVfyoH8Rp9WTkM9KVGIj/r9XqdWqJhN6d0CNC5ABYhaaMwSipTrd6C3mwyZza2Lo8K8yotf1sFfVIp/HRyZrrDNcoyC5bAqIZUKyIXgXjuLL0IT5mAAWqkw/TMdDff2LxIIc/Qh1VtqOI1Kc63Wt0JEgBGNjAUFMC6oQljyZLxnZ+zLATMzAi93elOUik+MIgvMNMTSqlTMqnDsHAhXSYjuREEN8N+7h7QcUlo5A1dAFY0V0kDtFKnjTEntEU8K+sNnZrozCy5ZsxChHn1cRHcUkahEg64ZJLmqtnQONg9qxFxwaGEjMqADBhzlRTBYvCrGBPKs42sPXvyVbyOiuruFpjpUSMU0HahY4gdp+w4dYdw2ONKYAxz3tJa3l3x+lFNq+3CMUMXWFEqXnER2PiNZGTpDkB9JzBTUQpIP+v4W5uYOsqc1UavJEF6MAYPzLmAByx9n3qRgh+6uAmGrqGuSDVK8Zd1ZlbSSWFZ/PGPWguAe4QqG98zi+0VrNyADrIUdzTttOpssYBC+5QZhOspKmjlFMc2YHZY2YxwuINWJal1yRWpPzZhR06D+/XAbLTqu/cJlQyxrIFJWZtL0jV7K7YoblhTgKucGKr5A81Fn1J9Nh9POIwnfbyAd1226xAqP3lgEG1/beznM0h3HOMwXmwWWHE2XzR729RvNtxOhxhW5taW5aDLJx2QSMVief3ty3HkzRU+7Ofo74JsTtS5kf/3QSIwGmQE/Bax+3jjw5P3CLsv9My5K89KXftEtiYfFSp5IJ4zOeBo+w9nije2Pnr+arU5VKVreK5GN75Y0w/Pf0dsj9PV8wjI+xkjA+5tXcv//vlMf+n11Rgvqi0o4mXNtBrREj33xOTEK+e/VFMPPQ5SVymC7a//Nrj8zhmzdnObVnKyNBrPjYoM62RTZDNk0zx3O5tN0PU/5ZFjp6DWkKHJSaBh36Q/ffV+/uvygJbaZM1IiMkVpfpl6o3o1CFrsfPo2tIdt732A9osHEYa+Z3XI1gr+rdjvCrvH4xXBtPfIxvG0aeT31r+GrOhP7888nsl5XF/xkEZDwc7cX02yO6Srcf51uj65z+6dPsWi8Mjv/N6/L4e/TdiPOM4HZmaCJ5F0TiNWqxVE0f977EzO89jBBpFgCKyK+NdyRQqJTARmIN2yPpkm/bfuxe5njzye1zfiX5ZjLNlr8rxFizvk2jMZlTcvnoTCwM8VliWPm7sVoT/BBgAPp8JxKgcaMoAAAAASUVORK5CYII=","contentType":"image/png","type":"esriPMS"}).setOffset(0,10),stopSymbolDrag:new _22({"url":_68.basePath+"/images/Directions/bluePointMove.png","height":21.75,"width":15.75,"imageData":"iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkQ5MDM5MjY2QzlCMTFFMkI0NTE5QUY4QjQzREJFODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkQ5MDM5Mjc2QzlCMTFFMkI0NTE5QUY4QjQzREJFODIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2RDkwMzkyNDZDOUIxMUUyQjQ1MTlBRjhCNDNEQkU4MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2RDkwMzkyNTZDOUIxMUUyQjQ1MTlBRjhCNDNEQkU4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmssHYwAAAUwSURBVHjahFZtiFRVGH7PuR8zc3dmv9odzazc0C0sEBEriohiKzcjy1AQ8k/QT8lK0goJ+pGWGET9CPpjFoYigomypoj+0VrCPlhTVw0t2JVdWWd3dubOnXs+et9zz6zX2aK7+95z3nPf85zn/Tq7bPHWM0CPzx1wGAPgDLIuLjC+1AW9inPoY6B6cSWjFUSKsWEh2TGh4CCA+lVoBvW6BM00KNAGy4XZzyKUHS2u7m8rBH6Qy0DG94DhD26FKIq7K9Xa41OV8L1yDQ6j7WaUS2kA3gT4TODKk8WOwqq5c4t+NihADB7cG9Sgf95NWIAj6bl8K8wpFv1iZ+Fln4mTuK8vDZJm+lLW5990dXXlPd+F6Tq6ozUsuSOCFxZUjUFPexXQUzg77gPHMHmZALq6/XlibOJAGItX0eT7NNOHHEd/3dbZkacYTUcSKri7iuOaRRE4jjMja3sjCGP8jt/KaCPRvqOzo+Aw2E04hqnAiHucbQuCQismAEKZMGR4HOVt+2AOAk/DW8sF7Bx0oSqYYas1pYUZVi5msyVfaLsxUfpIaP0iub8MGazgfgYqsQKlMIMaDChH1L/KdDYzLC/cZOa7ETxQqwQYWYLjZ8F1nH4hxDIutV7PM1m3JjTUUR6bD7BntQPoAIqGWCbiui4IHNEEqwDMfO8rLjxxD0CEi7TfyWVddHI9vvRypTl+UPB0jwNvPOLZuhVQk0kI8NcwFVqg22CY5ryE/cZHHdRjOHFVYNgcrFe13EWmPYI5QBT67vOMIT171wa31RpD9IPr/q2sAZ7F1hi4ItCIDtA9LsK3xHgyYwqOXolh2fyMMdx4pGwYJoAAn/YX4M0jJsCGLSYdPnu+YPSBSyFywvhKzImGFmSqIood4xoOD0cGYetTrXB2JJ4BBOv+2dHYANJpGDaz9uGJKTh0MTI6VQ1WRc3VnF2VSnRz5plMHrqIvTdcSwCtmNrDREmtbzFFefjLsWQO1PdUDdjInF3jyHpIyRgkspVYIhJdoMyS3sh+1k2SksXkCKWtrTa2Zo/SCVPEQXWI3bnpxHPM8QacoP1WUlIML7yzcFZi7v/kcsI4tUZzWS3hK17BVa7ruIzjQSlisHVvXEESRrYcGb+tTUlX1obsG2L2Iw7huWY/g/dZNH2UB+28+f7aP1Qy3bVmSTvs+61k9DQ7M1KH1cqKcNBUsjlbfwdVvYHuqs3gZLbzbB5Bbr8RWZObDaDGiqpNI1S0RQP/mAddt+yLbx+nZt+Arx0815qhQv7fR0tQ4VSklNyENL4Y29k3i4TROzccfpK73lc8aFvIHP8/8ZSogw4nLysRvz7x+cpT6bw5KQ9p7oSDe0bcuxYPINulePXcDXw2Y02A1YnT9b9/WVfa9dpQU8HMKJQwopW14rvzHmxrXb3tO6d97gPA3TRFkKXrF6YOvLtOjJybxJU6Ss0KzYVjGVLDU6F2onTQXJXHc+Bm/uTF3hXgZbmGpDVlpSRqP+/7oP7HsSlcakHJWUJEjnpb8pTrWWuUR6ErKhee3nVNTY78qGVkQkYj6bRuwQJr32L3O5Dc70kzWPr0F65iR+NO/fyx/TqqaHOJ4Eh6yuVme8LR3DYHGVF8xlBGUa7b+UR45tufVG3yPCWHRtJp3X6/bu3H7H7CUa5lKix4ZJNGbng2Vjkdln7Q+e7FNFqg0ALEll1jv2owhVQIhAWmTXQjU0+Oy5ujuymeNJJu18vWLrL7ZKNWm/9DmblPrBCbMB4+dU7HAmhMsWzYqKYLC/4RYACkZdX+YS9hNAAAAABJRU5ErkJggg==","contentType":"image/png","type":"esriPMS"}).setOffset(0,10),toSymbol:new _22({"url":_68.basePath+"/images/Directions/redPoint.png","height":21.75,"width":15.75,"imageData":"iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYxIDY0LjE0MDk0OSwgMjAxMC8xMi8wNy0xMDo1NzowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNS4xIE1hY2ludG9zaCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNEZDQTg5MTE0QzYxMUUyQURFMUNDNThGMTA3MjkzMSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNEZDQTg5MjE0QzYxMUUyQURFMUNDNThGMTA3MjkzMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjg5MjUyRTZBMTRDNTExRTJBREUxQ0M1OEYxMDcyOTMxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI0RkNBODkwMTRDNjExRTJBREUxQ0M1OEYxMDcyOTMxIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+pmgrrgAABHNJREFUeNqEVU2IHEUUflVd3fO/P3FWRPAQ0EVWL2FZFBS8REgQXD0GDILg0Zsgbg7ezCFXb15iFCUigkJAzF5y0RgQPUyIRBFz2SxusszO7uxMd1e953vV1TM9m6gF31S96qqvvvdTNerH9RWQFtUSUCYCRWwkddAAJ8iYdVD6JIJa5tkaAKUK8bZCexWc/QYJflXO8jADcsRAz2XgwfYU4wI1Wqebnfmk1mhCnNSYWwFZB3meLo0Phy+M9gcbcLh/hde+x/i9SnCU9GWXNC8udLuPN9sdYBo+PQcYsxIivyDmLmk2oNNsJMNB4/X+/XvPKZu9yZ82H0b6mo7rn3aXum1jYqDDAyBEJitcgkDKA/+rlIZmLYaEBezu2K/taPQGT39bJX2WVPTJ4tx828coTZnQFQRCptSE2B9STjGxYgGLC4udnSy7BA5f5NmeQSZRcXy+02rOKbJAo5FXyDsKqFlSD/6O3CsZRxp0ZKDTas33x/c+JGtfFaWrURSdqvFHPBwWhJ5DsRDt1UzaRCmDM83BAZULcQR1HUFkzGlr7aoh587WtTaUjv3igrQgJNRTlWXzXkgCOTwcIpTD2Vs5nInNAdFZw1ldY42AWeozrLzLvI1JJRmeVFAmqlSLQYDYIEJYqfA4WhOlxyPLsdQhL56ECWWTJ62onBQAToiLsZzrIPJn4HHDdovyHFCrEMciOQV5KKcJM01DMFFMRTjYxiKJLYPWpSRKhcTHUQiwIC8KcjamvgKguAyEwUZvyzVFpLFRSH9Z65Zizr4vESjJS8KH+F+WFk1VinrHqpnvDpcU9XKHawZKlzkEhLNk1TqtHEAz5AC58zHuac7W5bHF4EVwwbtRAZePx4yNfq3fE/YKD5K6rLsRbubO3citmyTA9+j+A/gAZH+OeEP4pJAcB+PcAc/4U0u4CsIlmtqzEPX71gf1nPCVd3Azc7ixl/Fjwq5R6dpRhPAUISrC4RiDjFU62iifv0k2Np9/VMrzHa6kC3NG1yIF/9tYNAwsps7hu/ywfHTy+t8zVT3J85XVYy/FWn88H+snE/3vzOwZ7Fn6g6P29is/716r3De+rtMrI+Po87ujrZWW+Y7VnkgUPBGV5VlBxhJ3c/rhl73szFu9fm/6Tk7JVHisE0Y9IHmmbebPL8998VgSPW0qgi2Tbmfut/dvD87cPLB7IpoxDpCxjYJC/qeEBcYxxqKMdzJs1BT8udzQp+r8Dhd3naCfO/vl9viDq/ezAa9rMRpBkBydl9kvXa+HRW1GUxZf3Brd2UrxeuqKApdebJkPZM2wvhX2RxCedfK1Wsg/ZAxD791hRV8NnX80QXqxKy4fXe//2Ix/kopFEp80hKJE/bPt0U/rjyS32lqt7GV4S+ywbhz6tGILD5qg1AbyNCRN3IhDrBp9S98vIa1Iz/Y2YxQI8qCu3O//a3TlTSs/pmHTPqPP2LmbuUsST+nFDvP7YV0a9rmyVvWRmqZwmgsQNaNr/fwmP+MgfUVluQarhS/tHwEGAEyHOx7EoDsBAAAAAElFTkSuQmCC","contentType":"image/png","type":"esriPMS"}).setOffset(0,10.875),toSymbolDrag:new _22({"url":_68.basePath+"/images/Directions/redPointMove.png","height":21.75,"width":15.75,"imageData":"iVBORw0KGgoAAAANSUhEUgAAABUAAAAdCAYAAABFRCf7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0RDNTQyNTU2QzlCMTFFMkExREZEMUE4OEI2QURDNjEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0RDNTQyNTY2QzlCMTFFMkExREZEMUE4OEI2QURDNjEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3REM1NDI1MzZDOUIxMUUyQTFERkQxQTg4QjZBREM2MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3REM1NDI1NDZDOUIxMUUyQTFERkQxQTg4QjZBREM2MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PubpLUYAAAU3SURBVHjahFVbiFZVFF57n33Of5+LOWZFkOAMMQUh49jFyofGUIosIlBLgqCgB4NIEvNBItAHA6N6qhfTSkwxykZEfTFJLckixgsqli8zw4zaP//9nLMvrbXP/i+ORZtZs89eZ+1vf+tb69+HnVo1CDS8VABMeMAMLoI0cIBFRohVwPiIBjaA3hSACZnWl5iWR0HJ77SB35mS+BiBUQZNWywBt49+tO0mk1uZLXQHqUwW/CCF2AyMVBDHYV+jVl1aL5feg1p5FGM3ol3uBJgNulwF2Z09c+fenc0XAGHw9BiggUyMsQE+TkE2A4VsJqiWMi8Ub1x/mMnoVXx1rAnCOwCf5376wLw+BPR9MLUK6EoZNM71+f3w99KXoH5XP+h6BVRlBky1DNmUD/OQgBekD+D+52YzfdAw74veru681SgMwWiFbgPxwGKoP/GiDarfsxBAxiAungHG0ME41sGH3p7ewnQU7QKlH0fvGNcIYjjbVshlu5jBZ2SiwyqYGIHjGKKn1oLneS2LRl5B4Ah0hO8bNYwvA0eJCrlct9Zyq4oalukQBq9IeRxTRTCNFSQW+I9xDumvtoJJZUGt3gDenu2obxWICLICjZmwGEXGw9IcDxVipZRySBil1qU5FyZsYLbagSaARqPkE3/aM4glu3YegN7bAqI8KJGmw+kQlAKBRcWYdRyrOowcbToqioA99CSID/aBlihF0xBACNF61k3f1m9tvI4jUCiVRzjKDBPTBR4FISkxvBz81W/bokiRwlavOykSpjFutAMzglQm0XntOxBhu6kzR8BDtzF6gUBFclQQjc0tljxtA2lkt+2/pYEZSpLfcQj+dTy6AqonD4GmXtY6J7RUoU0LN8lThyE9uNjGlT5c34Sz/7s2fIy+t6ye9g+t+91Pklb7adRJgulr0xBMm7+kVH0+Vj888YOF6HpjC8Tnz4Jrxnb6F8669BNU8pU+ex8aJ0ZtARVeBoh3DVvKjMVKDwuqKILUjn8P9R8PtsBc7q1CtYeByZeHWgfQiOlCMZqa3+xtSJ2808lNo20abQPsU6t1Opf4qAMwhmLtHreXcLRhe9kfy+70rks42eN7S3wsVpJym+jCg5dvq8uVZ/vbMrhBLItS/zJXwGN0oSgUY3MlRonp1KapxKZ2bLzlZ0rrW+LQiH1ZWlE3E5735n15qClzVRoI0T/iE1nTLkbjynmQU+PgF3pgevdHUDy8z/oN/fpwpjYqxxoiDZtw6+6sYO1qHHtkHoGtRwW2dwme8hj878BEoCR1qJTGi4F/OnJ6qlO5dp1Hh+Ys8zn/vNvnCwP+38gRajgjzRVU7fVnfr15PGlg9+vr6HB69r6eqI8P5sRhZLsoYHCvBy68wyKkeDM2J3+bida8NlYcc/tbDJoLugIDtLSz4IG86N420LVnfuDdLzoIo/YwGamLmy6V1pyryBkijdZwRs/ScwzxSwk9aHPQeul5OtKZFIOrAxm+Is3xs2OLY6AYK/nNZGPL0RtRCeNyaBlHiI6mG0fxjtTTLihP9wkF7xyvXxsP9elQJQ1OM63J78CyLj7n9nvJRyZRSjn6NbSqm206yGh/VRFNfIEzrTtSnh1vP2ykpXZBpE/opGha+svJ+s+r7ggu5DkbnIn0BVq7uIabw4414WjhmEoHHrqiURq+0ypTlOZInzaDNON6km47BxA7ds399lvDW1dO+2XoNpXRimjTE5HaRXrSTGvnL7u40O1TzV7ls3rauNOUM2JTP16Mz+EVDDR3sGzG6M7Gp/GPAAMAKMYdXbFXj3QAAAAASUVORK5CYII=","contentType":"image/png","type":"esriPMS"}).setOffset(0,10.875),routeSymbol:new _23().setColor(new _6([0,69,117,1])).setWidth(4),segmentSymbol:new _23().setColor(new _6([0,122,194,1])).setWidth(8),showPrintPage:true,showSegmentPopup:true,showSegmentHighlight:true,centerAtSegmentStart:true,showReverseStopsButton:true,focusOnNewStop:true,dragging:true,canModifyStops:true};},_removeEmptyStops:function(){var _69=this;var i;if(_69._stops.length>_69._minStops){for(i=(_69._stops.length-1);_69._stops.length>_69._minStops&&i>-1;i--){var _6a=_69._stops[i];if(!_6a||!_6a.name){_69.removeStop(i);}}}},_setReverseGeocode:function(_6b){var _6c=this;if(_6b.name&&_6b.feature.geometry){var _6d={address:_6b.name};if(_6c._stopGraphics[_6c._dragGraphic._index]){_6c._stopGraphics[_6c._dragGraphic._index].setAttributes(_6d);_6c._stopGraphics[_6c._dragGraphic._index].setGeometry(_6b.feature.geometry);}if(_6c._textGraphics[_6c._dragGraphic._index]){_6c._textGraphics[_6c._dragGraphic._index].setAttributes(_6d);_6c._textGraphics[_6c._dragGraphic._index].setGeometry(_6b.feature.geometry);}if(!_6c._moveInProgress){_6c._unsetDraggableObject(_6c._dragGraphic);}if(_6c.geocoders[_6c._dragGraphic._index]){_6c.geocoders[_6c._dragGraphic._index].set("value",_6b.name);}_6c._stops[_6c._dragGraphic._index]=_6b;_6c._setStops();_6c._directionsDeferred=new _16();_6c.set("directions",null);_6c._configureRouteOptions();_6c._routeTask.solve(_6c._routeParams);}},_insertStop:function(_6e,_6f){var _70=this;var _71=_70._dnd.getAllNodes();var _72=false,_73=false;var _74=_71.length;if(!_71[_6f]){_73=false;_72=false;}else{_73=_71[_6f];_72=true;}var tr=_15.create("tr",{className:_70._stopClass});var _75=_15.create("td",{className:_70._stopIconColumnClass},tr);_15.create("div",{className:_70._stopIconClass+" dojoDndHandle",innerHTML:_70._getLetter(_74)},_75);var _76=_15.create("td",{className:_70._esriStopGeocoderColumnClass},tr);var _77=_15.create("div",{},_76);if(_70.options.canModifyStops){var _78=_15.create("td",{className:_70._stopIconRemoveColumnClass},tr);_15.create("div",{className:_70._stopIconRemoveClass,role:"button","data-remove":"true"},_78);}_70._dnd.insertNodes(false,[tr],_72,_73);_70._stops[_6f]=_6e;var _79=_4.mixin(_70.options.geocoderOptions,{value:_6e.name});var _7a=new _26(_79,_77);_7a[_70._sortId]=tr.id;_70.geocoders.push(_7a);_7a.startup();var _7b=on(_7a,"select",function(_7c){var _7d=_70._dnd.getAllNodes();var _7e=_5.indexOf(_7d,tr);_70._stops[_7e]=_7c;_70._setStops();_70.getDirections().then(function(){_70.zoomToFullRoute();});});_70._geocoderSelectEvents[tr.id]=_7b;var _7f=on(_7a,"onEnterKeySelect",function(_80){var _81=_70._dnd.getAllNodes();var _82=_5.indexOf(_81,tr);_70._stops[_82]=_80;_70._setStops();_70.getDirections().then(function(){_70.zoomToFullRoute();});});_70._geocoderFindEvents[tr.id]=_7f;var _83=_7a.watch("value",function(_84,_85,_86){var _87=_70._dnd.getAllNodes();var _88=_5.indexOf(_87,tr);if(_70._stops[_88]&&_86!==_70._stops[_88].name){_70._stops[_88]={name:_86};_70._setStops();}});_70._geocoderWatchEvents[tr.id]=_83;_70._checkMaxStops();_70._fixIcons();if(_70._focusOnNewStop){_7a.focus();}_70._stopsRemovable();_70._optionsMenu();_70._sortGeocoders();},_validateStops:function(_89){var i;if(_89){for(i=0;i<_89.length;i++){if(!_89[i]||!_89[i].feature||!_89[i].extent){return {error:true,index:i};}}}return {error:false};},_sortStops:function(){var _8a=this;if(_8a._stops.length){_8a._stops.sort(function(a,b){for(var i=0;i<_8a.geocoders.length;i++){var gId=_8a.geocoders[i][_8a._sortId];if(a[_8a._sortId]===gId){return -1;}else{if(b[_8a._sortId]===gId){return 1;}}}});_8a._setStops();}},_getCandidate:function(_8b,_8c){var _8d=this;var def=new _16();var _8e=typeof _8b;var _8f={name:""};if(!_8b){def.resolve(_8f);}else{if(_8e==="object"&&_8b.hasOwnProperty("feature")&&_8b.hasOwnProperty("name")){def.resolve(_8b);}else{if(_8e==="object"&&_8b.hasOwnProperty("address")&&_8b.hasOwnProperty("location")){var _90=_8d._globalGeocoder._hydrateResult(_8b);def.resolve(_90);}else{if(_8e==="object"&&_8b.hasOwnProperty("name")){_8b=_8b.name;}if(_8d.geocoders[_8c]){_8f.name=_8d.geocoders[_8c].get("value");}_8d._globalGeocoder.find(_8b).then(function(_91){if(_91.results&&_91.results.length){def.resolve(_91.results[0]);}else{var _92=_13.widgets.directions.error.locator;_8d._resultError(_92);def.resolve(_8f);}},function(){var _93=_13.widgets.directions.error.locator;_8d._resultError(_93);def.resolve(_8f);});}}}return def;},_updateStop:function(e,_94){var _95=this;var def=new _16();_95._getCandidate(e,_94).then(function(_96){if(_95.geocoders[_94]){_95.geocoders[_94].set("value",_96.name);_95._stops[_94]=_96;_95._setStops();}def.resolve(_96);},function(_97){def.resolve(_97);});return def;},_showRoute:function(_98){var _99=this;_99._clearInfoWindow();_99.set("directions",_98.routeResults[0].directions);var _9a=_98.routeResults[0].stops;if(_9a&&_9a.length){var _9b=[];var i;_99._clearStopGraphics();var _9c=_9a.length;if(_99._startReturn){_9c--;}for(i=0;i<_9c;i++){var _9d=_9a[i];var _9e={extent:new _1f({"xmin":_9d.geometry.x-0.25,"ymin":_9d.geometry.y-0.25,"xmax":_9d.geometry.x+0.25,"ymax":_9d.geometry.y+0.25,"spatialReference":_9d.geometry.spatialReference}),feature:_9d,name:_9d.attributes.Name};_9b.push(_9e);}_99._stops=_9b;for(i=0;i<_99._stops.length;i++){_99._updateStop(_99._stops[i],i);}_99._setStops();_99._setRouteSymbols();}_99._clearRouteGraphics();_99.set("mergedRouteGraphic",new _19(_99.directions.mergedGeometry,_99.options.routeSymbol));if(_99.options.map&&_99.options.map.graphics){_99.options.map.graphics.add(_99.get("mergedRouteGraphic"));var _9f=_99.get("mergedRouteGraphic").getDojoShape();if(_9f){_9f.moveToBack();}}_99._addRouteSymbols();var _a0="";if(_99._resultsNode){_a0+="<div class=\""+_99._resultsRouteNameClass+"\">";_a0+=_99.directions.routeName;_a0+="</div>";_a0+="<div class=\""+_99._clearClass+"\"></div>";if(_99.directions.totalLength||_99.directions.totalTime){var _a1=_99._formatDistance(_99.directions.totalLength,_13.widgets.directions.units[_99._units].name);var _a2=_99._formatTime(_99.directions.totalTime);_a0+="<div class=\""+_99._resultsSummaryClass+"\">";if(_a1){_a0+=_a1;}if(_a1&&_a2){_a0+=" &middot; ";}if(_a2){_a0+=_a2;}_a0+="</div>";}_a0+="<div class=\""+_99._clearClass+"\"></div>";_a0+="<div class=\""+_99._resultsRouteButtonContainerClass+"\">";_a0+="<div tabindex=\"0\" role=\"button\" class=\""+_99._resultsViewFullRouteClass+"\" data-full-route=\"true\">"+_13.widgets.directions.viewFullRoute+"</div>";if(_99.options.showPrintPage){_a0+="<div tabindex=\"0\" role=\"button\" title=\""+_13.widgets.directions.print+"\" class=\""+_99._resultsPrintClass+"\" data-print-directions=\"true\"></div>";}_a0+="<div class=\""+_99._clearClass+"\"></div>";_a0+="</div>";_a0+="<div class=\""+_99._routesClass+"\">";_a0+="<table summary=\""+_99.directions.routeName+"\">";_a0+="<tbody role=\"menu\">";var _a3=0;_5.forEach(_99.directions.features,function(_a4,i){var _a5=_99._routeClass;var _a6=(i+1);if(_a4.attributes.maneuverType){_a5+=" "+_a4.attributes.maneuverType;}if(i===0||_99._startReturn&&(i+1)===_99.directions.features.length){_a5+=" "+_99._routeOriginClass;}else{if(i===(_99.directions.features.length-1)||((_99.stops.length-1)===_a3&&(_a4.attributes.maneuverType==="esriDMTStop"||_a4.attributes.maneuverType==="esriDMTDepart"))){_a5+=" "+_99._routeDestinationClass;}}if(_99.directions.features.length===(i+1)){_a5+=" "+_99._routeLastClass;}_a0+="<tr tabindex=\"0\" role=\"menuitem\" class=\""+_a5+" "+_99._routeZoomClass+"\" data-segment=\""+i+"\">";_a0+="<td class=\""+_99._routeIconColumnClass+"\">";_a0+="<div class=\""+_99._routeIconClass+"\">";if(i===0){_a0+=_99._getLetter(_a3);_a3++;}else{if(_a4.attributes.maneuverType==="esriDMTStop"){if(_99._startReturn&&(i+1)===_99.directions.features.length){_a0+=_99._getLetter(0);}else{_a0+=_99._getLetter(_a3);}}else{if(_a4.attributes.maneuverType==="esriDMTDepart"){_a0+=_99._getLetter(_a3);_a3++;}}}_a0+="</div>";_a0+="</td>";_a0+="<td class=\""+_99._routeTextColumnClass+"\">";_a0+="<div class=\""+_99._routeInfoClass+"\">";_a0+="<div class=\""+_99._routeTextClass+"\">";var _a7=_99.directions.strings[i],j;if(_a7){var _a8=_a4.attributes.text;for(j=0;j<_a7.length;j++){_a8=_99._boldText(_a8,_a7[j].string);}_a4.attributes.formattedText=_a8;}else{_a4.attributes.formattedText=_a4.attributes.text;}_a0+="<strong>"+_12.format(_a6)+".</strong> "+_a4.attributes.formattedText;_a0+="</div>";var _a9=_99._formatDistance(_a4.attributes.length,_13.widgets.directions.units[_99._units].abbr);var _aa=_99._formatTime(_a4.attributes.time);if(_a9){_a0+="<div class=\""+_99._routeLengthClass+"\">";_a0+=_a9;if(_aa){_a0+=" "+_aa;}_a0+="</div>";}_a0+="</div>";_a0+="</td>";_a0+="</tr>";});_a0+="</tbody>";_a0+="</table>";_a0+="</div>";if(_99._resultsNode){_99._resultsNode.innerHTML=_a0;}_99._disconnectResults();var _ab=_11("[data-segment]",_99._resultsNode);if(_ab&&_ab.length){_ab.forEach(function(_ac){var _ad=on(_ac,_c.enter,function(){var i=parseInt(_11(this).attr("data-segment")[0],10);_99.highlightSegment(i);_99.onSegmentHighlight(_99.directions.features[i]);});_99._resultEvents.push(_ad);var _ae=on(_ac,"focusin",function(){var i=parseInt(_11(this).attr("data-segment")[0],10);_99.highlightSegment(i);_99.onSegmentHighlight(_99.directions.features[i]);});_99._resultEvents.push(_ae);var _af=on(_ac,"focusout",function(){_99.unhighlightSegment();});_99._resultEvents.push(_af);var _b0=on(_ac,_c.leave,function(){_99.unhighlightSegment();});_99._resultEvents.push(_b0);if(_99.options.centerAtSegmentStart){var _b1=on(_ac,"click, keydown",function(e){if(e.type==="click"||(e.type==="keydown"&&e.keyCode===_a.ENTER)){var i=parseInt(_11(this).attr("data-segment")[0],10);_99.centerAtSegmentStart(i);_99.onSegmentSelect(_99.directions.features[i]);}});_99._resultEvents.push(_b1);}});}}_99.onDirectionsFinish(_98);_99._directionsDeferred.resolve(_98);},_setStops:function(){var _b2=this;var _b3=[];var i;_b2._ignoreStopsWatch=true;if(_b2._stops&&_b2._stops.length){for(i=0;i<_b2._stops.length;i++){if(_b2._stops[i]){_b2._stops[i][_b2._sortId]=_b2.geocoders[i][_b2._sortId];}}var _b4=_4.clone(_b2._stops);for(i=0;i<_b4.length;i++){var _b5=_b4[i];if(_b5.hasOwnProperty(_b2._sortId)){delete _b5[_b2._sortId];}}_b3=_b4;}_b2.set("stops",_b3);_b2._ignoreStopsWatch=false;},_getCandidates:function(_b6){var _b7=this;var _b8=[];var i;if(_b6&&_b6.length){for(i=0;i<_b6.length;i++){_b8.push(_b7._getCandidate(_b6[i],i));}return all(_b8);}},_clearResultsHTML:function(){var _b9=this;if(_b9._resultsNode){_b9._resultsNode.innerHTML="";}},_showSegmentPopup:function(_ba,_bb){var _bc=this;if(_ba&&_bc.options.showSegmentPopup&&_bc.options.map&&_bc.options.map.infoWindow){if(_ba.attributes){_ba.attributes.step=(_bb+1);}var _bd=_ba.geometry;var _be=_bd.getPoint(0,0);var _bf=new _19(_be,null,_ba.attributes,_bc.options.segmentInfoTemplate);_bc.options.map.infoWindow.setFeatures([_bf]);_bc.options.map.infoWindow.show(_be);}},_removeStopButton:function(_c0){var _c1=this;if(_c1._stops.length>_c1._minStops){_c1.removeStop(_c0);}},_updateStops:function(_c2,_c3,_c4){var _c5=this;if(_c5.loaded&&!_c5._ignoreStopsWatch){_c5.updateStops(_c4);}},_addStopButton:function(){var _c6=this;_c6.addStop();},_sortGeocoders:function(){var _c7=this;var _c8=_c7._dnd.getAllNodes();_c7.geocoders.sort(function(a,b){return _c7._sortGeocodersToNodes(a,b,_c8,_c7._sortId);});_c7._sortStops();},_disconnectResults:function(){var _c9=this,i;if(_c9._resultEvents.length){for(i=0;i<_c9._resultEvents.length;i++){_c9._resultEvents[i].remove();}}},_formatTime:function(_ca){var hr,min,str="";var _cb=Math.round(_ca);hr=Math.floor(_cb/60);min=Math.floor(_cb%60);if(hr){str+=hr+" ";if(hr>1){str+=_13.widgets.directions.time.hours;}else{str+=_13.widgets.directions.time.hour;}}if(hr&&min){str+=" ";}if(min){str+=min+" ";if(min>1){str+=_13.widgets.directions.time.minutes;}else{str+=_13.widgets.directions.time.minute;}}return str;},_formatDistance:function(_cc,_cd){var d=Math.round(_cc*100)/100;if(d===0){return "";}return _12.format(d)+" "+_cd;},_setMoveSymbol:function(_ce){var _cf=this;_cf._moveSymbolSet=true;var _d0=_cf._setStopSymbol(_ce._index,_cf._stopGraphics.length,true);_ce.setSymbol(_d0);},_unsetMoveSymbol:function(_d1){var _d2=this;var _d3=_d2._setStopSymbol(_d1._index,_d2._stopGraphics.length);_d1.setSymbol(_d3);_d2._moveSymbolSet=false;},_removeTextGraphic:function(_d4){var _d5=this;var _d6=_d5._textGraphics[_d4];_d5.options.map.graphics.remove(_d6);},_setDraggableObject:function(_d7){var _d8=this;if(_d7._drag&&_d8.options.map&&_d8.options.map.graphics){_d8._removeTextGraphic(_d7._index);_d8._dragGraphic=_d7;_d8._dragGeometry=_d7.geometry;_d8._edit.activate(_2b.MOVE,_d7);}},_setTextGraphic:function(_d9){var _da=this;if(_d9._drag&&_da.options.map&&_da.options.map.graphics){var _db=_da._textGraphics[_d9._index];_db.setGeometry(_d9.geometry);_da.options.map.graphics.add(_db);var _dc=_db.getDojoShape();if(_dc){_dc.moveToFront();}}},_unsetDraggableObject:function(_dd){var _de=this;if(_dd._drag){if(_de._moveSymbolSet){_de._unsetMoveSymbol(_dd);}_de._setTextGraphic(_dd);_de._edit.deactivate();}},_editToolbar:function(){var _df=this;if(_df.options.map){_df._edit=new _2b(_df.options.map);}},_createGlobalGeocoder:function(){var _e0=this;var def=new _16();if(_e0.options.map){_e0.options.geocoderOptions.map=_e0.options.map;}if(!_e0.options.geocoderOptions.theme){_e0.options.geocoderOptions.theme=_e0.get("theme");}if(!_e0.options.geocoderOptions.autoComplete){_e0.options.geocoderOptions.maxLocations=1;}_e0._globalGeocoder=new _26(_e0.options.geocoderOptions,_15.create("div"));var _e1=on(_e0._globalGeocoder,"load",function(){def.resolve();});_e0._onEvents.push(_e1);_e0._globalGeocoder.startup();return def;},_init:function(){var _e2=this;_e2._createGlobalGeocoder().then(function(){_e2._createRouteTask();_e2._editToolbar();_e2._setEvents();if(!_e2.options.canModifyStops){_15.destroy(_e2._addDestinationNode);}_e2._focusOnNewStop=_e2.options.focusOnNewStop;if(_e2.options.stops){_e2.addStops(_e2.options.stops);}_e2.loaded=true;_e2.onLoad();});},_calculateValidStops:function(){var _e3=this,_e4=0,i;var _e5=_e3._stops;for(i=0;i<_e5.length;i++){if(_e5[i]&&_e5[i].name){_e4++;}}return _e4;},_setStopSymbol:function(i,_e6,_e7){var _e8=this;if(i===0){if(_e7&&_e8.options.fromSymbolDrag){return _e8.options.fromSymbolDrag;}return _e8.options.fromSymbol;}else{if(i===(_e6-1)){if(_e7&&_e8.options.toSymbolDrag){return _e8.options.toSymbolDrag;}return _e8.options.toSymbol;}else{if(_e7&&_e8.options.stopSymbolDrag){return _e8.options.stopSymbolDrag;}return _e8.options.stopSymbol;}}},_setRouteSymbols:function(){var _e9=this,i;for(i=0;i<_e9.stops.length;i++){var _ea=_e9.stops[i];if(_ea&&_ea.feature){var _eb=_e9._setStopSymbol(i,_e9.stops.length);var _ec=_e9._defaultSR;if(_e9.options.map){_ec=_e9.options.map.spatialReference;}var _ed=new _1e(_ea.feature.geometry.x,_ea.feature.geometry.y,_ec);var _ee=_e9._getLetter(i);var _ef=new _24(_ee,_e9.options.textSymbolFont,_e9.options.textSymbolColor);if(_e9.options.textSymbolOffset){_ef.setOffset(_e9.options.textSymbolOffset.x,_e9.options.textSymbolOffset.y);}var _f0=new _19(_ed,_ef);_f0._textGraphic=true;_f0._index=i;var _f1=new _19(_ed,_eb,{address:_ea.name},_e9.options.stopsInfoTemplate);_f1._drag=true;_f1._index=i;_e9._stopGraphics[i]=_f1;_e9._textGraphics[i]=_f0;}}},_addRouteSymbols:function(){var _f2=this;var i;if(_f2._stopGraphics.length&&_f2.options.map&&_f2.options.map.graphics){for(i=0;i<_f2._stopGraphics.length;i++){_f2.options.map.graphics.add(_f2._stopGraphics[i]);var _f3=_f2._stopGraphics[i].getDojoShape();if(_f3){_f3.moveToFront();}_f2.options.map.graphics.add(_f2._textGraphics[i]);var _f4=_f2._textGraphics[i].getDojoShape();if(_f4){_f4.moveToFront();}}}},_showTrafficLayer:function(){var _f5=this;if(_f5.options.map&&!_f5._trafficLayer&&_f5.options.trafficLayer){_f5._trafficLayer=_f5.options.map.addLayer(_f5.options.trafficLayer);}if(_f5._trafficLayer){_f5._trafficLayer.show();}},_hideTrafficLayer:function(){var _f6=this;if(_f6._trafficLayer){_f6._trafficLayer.hide();}},_configureRouteOptions:function(){var _f7=this;if(_f7._findOptimalOrderNode){_f7._routeParams.findBestSequence=_10.get(_f7._findOptimalOrderNode,"checked");if(_f7._routeParams.findBestSequence){_f7._routeParams.returnStops=true;}else{_f7._routeParams.returnStops=false;}}if(_f7._useTrafficNode&&_10.get(_f7._useTrafficNode,"checked")){var now=new Date();var utc=new Date(now.getTime()-(now.getTimezoneOffset()*60*1000));_f7._routeParams.startTime=utc;_f7._showTrafficLayer();}else{_f7._routeParams.startTime=null;_f7._hideTrafficLayer();}if(_f7._returnToStartNode&&_10.get(_f7._returnToStartNode,"checked")&&_f7._stopGraphics.length){var _f8=new _19(_f7._stopGraphics[0].geometry,null,_f7._stopGraphics[0].attributes);var _f9=_f7._stopGraphics.slice(0);_f7._startReturn=_f8;_f9.push(_f8);_f7._routeParams.stops.features=_f9;}else{_f7._startReturn=null;_f7._routeParams.stops.features=_f7._stopGraphics;}},_configureRoute:function(){var _fa=this;_fa._setRouteSymbols();_fa._configureRouteOptions();_fa.set("directions",null);_fa._routeTask.solve(_fa._routeParams);},_boldText:function(_fb,_fc){return _fb.replace(new RegExp("(^|\\s)("+_fc+")(\\s|$)","ig"),"$1<strong>$2</strong>$3");},_clearStopGraphics:function(){var _fd=this,i;if(_fd._stopGraphics.length&&_fd.options.map&&_fd.options.map.graphics){for(i=0;i<_fd._stopGraphics.length;i++){_fd.options.map.graphics.remove(_fd._stopGraphics[i]);_fd.options.map.graphics.remove(_fd._textGraphics[i]);}}_fd._stopGraphics=[];_fd._textGraphics=[];},_clearRouteGraphics:function(){var _fe=this;if(_fe.get("mergedRouteGraphic")&&_fe.options.map&&_fe.options.map.graphics){_fe.options.map.graphics.remove(_fe.get("mergedRouteGraphic"));_fe.set("mergedRouteGraphic",null);}_fe.unhighlightSegment();},_clearInfoWindow:function(){var _ff=this;if(_ff.options.map&&_ff.options.map.infoWindow){_ff.options.map.infoWindow.hide();if(_ff.options.map.infoWindow.features){_ff.options.map.infoWindow.clearFeatures();}}},_getLetter:function(i){var _100=this.options.alphabet;var _101="";if(_100&&_100.length){if(!i){i=0;}if(i>=_100.length){i=_100.length-1;}if(typeof _100==="string"){_101=_100.substr(i,1);}else{if(_100 instanceof Array){_101=_100[i];}}}return _101;},_directionsButton:function(){var _102=this;_102._removeEmptyStops();_102.getDirections().then(function(){_102.zoomToFullRoute();});},_fixIcons:function(){var _103=this,i,_104=_103._dnd.getAllNodes();for(i=0;i<_104.length;i++){var icon=_11("."+_103._stopIconClass,_104[i])[0];if(icon){icon.innerHTML=_103._getLetter(i);}_11(_104[i]).removeClass(_103._stopOriginClass+" "+_103._stopDestinationClass);if(i===0){_11(_104[i]).addClass(_103._stopOriginClass);}else{if(i===(_104.length-1)){_11(_104[i]).addClass(_103._stopDestinationClass);}}}if(_103.options.showReverseStopsButton){_11("[data-reverse-td]",_103._dndNode).orphan();_15.create("td",{"data-reverse-td":"true",rowspan:_104.length,className:_103._esriStopReverseColumnClass,innerHTML:"<div role=\"button\" class=\""+_103._reverseStopsClass+"\" data-reverse-stops=\"true\" title=\""+_13.widgets.directions.reverseDirections+"\"></div>"},_104[0]);}},_setEvents:function(){var _105=this;var _106=on(_105._dndNode,"[data-reverse-stops]:click, [data-reverse-stops]:keydown",function(e){if(e.type==="click"||(e.type==="keydown"&&e.keyCode===_a.ENTER)){_105._reverseStops();}});_105._onEvents.push(_106);var _107=on(_105._resultsNode,"[data-print-directions]:click, [data-print-directions]:keydown",function(e){if(e.type==="click"||(e.type==="keydown"&&e.keyCode===_a.ENTER)){_105._printDirections();}});_105._onEvents.push(_107);var _108=on(_105._resultsNode,"[data-full-route]:click, [data-full-route]:keydown",function(e){if(e.type==="click"||(e.type==="keydown"&&e.keyCode===_a.ENTER)){_105.zoomToFullRoute();}});_105._onEvents.push(_108);var _109=on(_105._dndNode,"[data-remove]:click, [data-remove]:keydown",function(e){if(e.type==="click"||(e.type==="keydown"&&e.keyCode===_a.ENTER)){var _10a=_11("[data-remove]",_105._dndNode);var _10b=_5.indexOf(_10a,this);_105._removeStopButton(_10b);}});_105._onEvents.push(_109);var _10c=on(_105._dnd,"Drop",function(){_105._dnd.sync();_105._sortGeocoders();_105._fixIcons();if(_105._calculateValidStops()===_105.geocoders.length&&_105._routeParams.stops.features.length){_105.getDirections().then(function(){_105.zoomToFullRoute();});}});_105._onEvents.push(_10c);var _10d=on(_105._dnd,"DndStart",function(){_11("body").addClass(_105._dndDragBodyClass);});_105._onEvents.push(_10d);var _10e=on(_105._dnd,"DndDrop, DndCancel",function(){_11("body").removeClass(_105._dndDragBodyClass);});_105._onEvents.push(_10e);if(_105.options.map&&_105.options.map.graphics){if(_105.options.dragging){var _10f=_3.connect(_105.options.map.graphics,"onMouseOver",function(e){var _110;if(e.graphic._drag){_110=_105._edit.getCurrentState();if(!_110.graphic){_105._setDraggableObject(e.graphic);}if(!_105._moveSymbolSet){_105._setMoveSymbol(e.graphic);}}else{if(e.graphic._textGraphic){_110=_105._edit.getCurrentState();if(_105._stopGraphics[e.graphic._index]){if(!_110.graphic){_105._setDraggableObject(_105._stopGraphics[e.graphic._index]);}if(!_105._moveSymbolSet){_105._setMoveSymbol(_105._stopGraphics[e.graphic._index]);}}}}});_105._connectEvents.push(_10f);var _111=_3.connect(_105.options.map.graphics,"onMouseOut",function(e){if(!_105._moveInProgress&&e.graphic._drag){_105._unsetDraggableObject(e.graphic);}});_105._connectEvents.push(_111);}var _112=_3.connect(_105._edit,"onGraphicClick",function(e){if(_105.options.map&&_105.options.map.infoWindow){_105.options.map.infoWindow.setFeatures([e]);_105.options.map.infoWindow.show(e.geometry);}});_105._connectEvents.push(_112);var _113=_3.connect(_105._edit,"onGraphicFirstMove",function(){_105._moveInProgress=true;});_105._connectEvents.push(_113);var _114=_3.connect(_105._edit,"onGraphicMoveStop",function(_115){_105._moveInProgress=false;_105._unsetDraggableObject(_115);if(_105._dragGeometry!==_115.geometry){_105._currentEditableGraphic=_115;_105.onDirectionsStart();_105._clearInfoWindow();_105._clearResultsHTML();_105._globalGeocoder.find(_115.geometry).then(function(_116){_105._setReverseGeocode(_116.results[0]);},function(_117){_105.onDirectionsFinish(_117);var _118=_13.widgets.directions.error.locator;_105._resultError(_118);_105._clearRouteGraphics();_105._currentEditableGraphic.setAttributes({error:_118});var _119=_105._currentEditableGraphic._index;_105._updateStop({name:""},_119);});}});_105._connectEvents.push(_114);}var _11a=_3.connect(_105._routeTask,"onSolveComplete",function(_11b){_105._showRoute(_11b);});_105._connectEvents.push(_11a);var _11c=_3.connect(_105._routeTask,"onError",function(_11d){var _11e=_13.widgets.directions.error.routeTask;_105._resultError(_11e);_105._directionsDeferred.resolve(_11d);_105.onDirectionsFinish(_11d);});_105._connectEvents.push(_11c);},_resultError:function(_11f){var _120=this;var html="";html+="<div class=\""+_120._routesErrorClass+"\">";html+=_11f;html+="</div>";if(_120._resultsNode){_120._resultsNode.innerHTML=html;}},_getUnits:function(unit){switch(unit){case _1a.KILOMETERS:return "KILOMETERS";case _1a.METERS:return "METERS";case _1a.NAUTICAL_MILES:return "NAUTICAL_MILES";default:return "MILES";}},_createRouteTask:function(){var _121=this;_121._routeTask=new _29(_121.options.routeTaskUrl);_121._routeParams=new _2a();var _122={returnRoutes:false};if(_121.options.routeParams.directionsLengthUnits){_122.directionsLengthUnits=_121.options.routeParams.directionsLengthUnits;}else{if(_121.options.routeParams.directionsLanguage){_122.directionsLengthUnits=_121.options.routeParams.directionsLanguage==="en"?_1a.MILES:_1a.KILOMETERS;}}var _123={directionsOutputType:"complete",stops:new _28(),returnDirections:true,doNotLocateOnRestrictedElements:true};if(_121.options.map){_123.outSpatialReference=_121.options.map.spatialReference;}else{_123.outSpatialReference=_121._defaultSR;}if(_121.options.routeParams){_4.mixin(_121._routeParams,_122,_121.options.routeParams,_123);}_121._units=_121._getUnits(_121._routeParams.directionsLengthUnits);_121._configureRouteOptions();},_reverseStops:function(){var _124=this;var _125=_124._dnd.getAllNodes();if(_125.length){_125.reverse();_124._dnd.clearItems();_124._dnd.insertNodes(false,_125);_124._dnd.sync();_124._stopsRemovable();_124._optionsMenu();_124._checkMaxStops();_124._fixIcons();_124.getDirections().then(function(){_124.zoomToFullRoute();});}},_setTemplates:function(){var _126=this;_126._routeTpl="";_126._routeTpl+="<div class=\"${maneuverType}\">";_126._routeTpl+="<div class=\""+_126._routeIconClass+" "+_126._infoWindowRouteClass+"\">";_126._routeTpl+="<strong>${step}.</strong> ${formattedText}";_126._routeTpl+="</div>";_126._routeTpl+="</div>";_126._stopTpl="${address}${error}";},_setClasses:function(){var _127=this;_127._widgetContainerClass="esriDirectionsContainer";_127._stopsContainerClass="esriStopsContainer";_127._reverseStopsClass="esriStopsReverse";_127._addStopsClass="esriStopsAdd";_127._stopsClass="esriStops";_127._stopsRemovableClass="esriStopsRemovable";_127._stopsButtonContainerClass="esriStopsButtons";_127._stopsOptionsButtonClass="esriStopsOptionsButton";_127._stopsAddDestinationClass="esriStopsAddDestination";_127._stopsGetDirectionsContainerClass="esriStopsGetDirectionsContainer";_127._stopsGetDirectionsClass="esriStopsGetDirections";_127._stopsOptionsOptionsEnabledClass="esriStopsOptionsEnabled";_127._stopsOptionsMenuClass="esriStopsOptionsMenu";_127._stopsFindOptimalOrderClass="esriFindOptimalOrderOption";_127._stopsUseTrafficClass="esriUseTrafficOption";_127._stopsReturnToStartClass="esriReturnToStartOption";_127._stopClass="esriStop";_127._stopOriginClass="esriStopOrigin";_127._stopDestinationClass="esriStopDestination";_127._esriStopGeocoderColumnClass="esriStopGeocoderColumn";_127._esriStopReverseColumnClass="esriStopReverseColumn";_127._stopIconColumnClass="esriStopIconColumn";_127._stopIconClass="esriStopIcon";_127._stopIconRemoveColumnClass="esriStopIconRemoveColumn";_127._stopIconRemoveClass="esriStopIconRemove";_127._resultsContainerClass="esriResultsContainer";_127._resultsLoadingClass="esriResultsLoading";_127._resultsPrintClass="esriResultsPrint";_127._resultsSummaryClass="esriResultsSummary";_127._resultsViewFullRouteClass="esriResultsViewFullRoute";_127._resultsRouteNameClass="esriResultsRouteName";_127._resultsRouteButtonContainerClass="esriResultsButtonsContainer";_127._routesContainerClass="esriRoutesContainer";_127._routesClass="esriRoutes";_127._routesErrorClass="esriRoutesError";_127._routeClass="esriRoute";_127._routeTextColumnClass="esriRouteTextColumn";_127._routeTextClass="esriRouteText";_127._routeLengthClass="esriRouteLength";_127._routeOriginClass="esriDMTStopOrigin";_127._routeDestinationClass="esriDMTStopDestination";_127._routeLastClass="esriDMTStopLast";_127._routeInfoClass="esriRouteInfo";_127._routeIconColumnClass="esriRouteIconColumn";_127._routeIconClass="esriRouteIcon";_127._infoWindowRouteClass="esriInfoWindowRoute";_127._routeZoomClass="esriRouteZoom";_127._esriPrintPageClass="esriPrintPage";_127._esriPrintBarClass="esriPrintBar";_127._esriPrintButtonClass="esriPrintButton";_127._esriCloseButtonClass="esriCloseButton";_127._esriPrintMainClass="esriPrintMain";_127._esriPrintHeaderClass="esriPrintHeader";_127._esriPrintLogoClass="esriPrintLogo";_127._esriPrintNameClass="esriPrintName";_127._esriPrintNotesClass="esriPrintNotes";_127._esriPrintLengthClass="esriPrintLength";_127._esriPrintDirectionsClass="esriPrintDirections";_127._esriPrintFooterClass="esriPrintFooter";_127._esriPrintStopLabelClass="esriPrintStopLabel";_127._clearClass="esriClear";_127._dndDragBodyClass="esriDndDragDirection";},_setPrivateDefaults:function(){var _128=this;_128._sortId="_dndId";_128._stops=[];_128._i18n=_13;_128._minStops=2;_128._maxStops=20;_128._onEvents=[];_128._connectEvents=[];_128._watchEvents=[];_128._geocoderSelectEvents=[];_128._geocoderFindEvents=[];_128._geocoderWatchEvents=[];_128._resultEvents=[];_128._stopGraphics=[];_128._textGraphics=[];_128._defaultSR=new _1c(4326);},_sortGeocodersToNodes:function(a,b,_129,id){var aId=a[id];var bId=b[id];var aDnd=_d.byId(aId);var bDnd=_d.byId(bId);var _12a=_5.indexOf(_129,aDnd);var _12b=_5.indexOf(_129,bDnd);var i;for(i=0;i<_129.length;i++){if(i===_12a){return -1;}else{if(i===_12b){return 1;}}}},_optionsCheckboxes:function(){var _12c=this;var _12d=_12c.get("optimalRoute")||false;if(_12c._findOptimalOrderNode){_10.set(_12c._findOptimalOrderNode,"checked",_12d);}var _12e=_12c.get("returnToStart")||false;if(_12c._returnToStartNode){_10.set(_12c._returnToStartNode,"checked",_12e);}var _12f=_12c.get("traffic")||false;if(_12c._useTrafficNode){_10.set(_12c._useTrafficNode,"checked",_12f);}},_widgetProperties:function(){var _130=this;_130.set("theme",_130.options.theme);_130.set("showTrafficOption",_130.options.showTrafficOption);_130.set("showReturnToStartOption",_130.options.showReturnToStartOption);_130.set("showUseOptimalRouteOption",_130.options.showUseOptimalRouteOption);_130.set("optimalRoute",_130.options.useOptimalRoute);_130.set("returnToStart",_130.options.returnToStart);_130.set("traffic",_130.options.traffic);},_optionsMenu:function(){var _131=this;if(_131._useTrafficItemNode){if(_131.get("showTrafficOption")){_f.set(_131._useTrafficItemNode,"display","block");}else{_f.set(_131._useTrafficItemNode,"display","none");}}if(_131._returnToStartItemNode){if(_131.get("showReturnToStartOption")){_f.set(_131._returnToStartItemNode,"display","block");}else{_f.set(_131._returnToStartItemNode,"display","none");}}if(_131._findOptimalOrderItemNode){if(_131.get("showUseOptimalRouteOption")&&_131._stops.length>=4){_f.set(_131._findOptimalOrderItemNode,"display","block");}else{_f.set(_131._findOptimalOrderItemNode,"display","none");}}if(_131._stops.length>=_131._minStops){_11(_131._widgetContainer).addClass(_131._stopsOptionsOptionsEnabledClass);}else{_11(_131._widgetContainer).removeClass(_131._stopsOptionsOptionsEnabledClass);if(_131._optionsMenuNode){var _132=_f.get(_131._optionsMenuNode,"display");if(_132==="block"){_131._toggleOptionsMenu();}}if(_131.loaded){_131._configureRouteOptions();}}},_stopsRemovable:function(){var _133=this;if(_133.geocoders.length>_133._minStops){_11(_133._widgetContainer).addClass(_133._stopsRemovableClass);}else{_11(_133._widgetContainer).removeClass(_133._stopsRemovableClass);}},_checkMaxStops:function(){var _134=this;if(_134._stops.length<_134._maxStops){_134._showAddDestination();_134.set("maxStopsReached",false);}else{_134._hideAddDestination();_134.set("maxStopsReached",true);}},_updateTheme:function(attr,_135,_136){var _137=this;if(_137.loaded){_11(_137.domNode).removeClass(_135).addClass(_136);}},_toggleOptionsMenu:function(){var _138=this;if(_138._optionsMenuNode){var _139=_f.get(_138._optionsMenuNode,"display");if(_139==="block"){_f.set(_138._optionsMenuNode,"display","none");_138._optionsButtonNode.innerHTML=_13.widgets.directions.showOptions;}else{_f.set(_138._optionsMenuNode,"display","block");_138._optionsButtonNode.innerHTML=_13.widgets.directions.hideOptions;}}},_hideAddDestination:function(){var _13a=this;_11(_13a._widgetContainer).removeClass(_13a._addStopsClass);},_showAddDestination:function(){var _13b=this;_11(_13b._widgetContainer).addClass(_13b._addStopsClass);},_getAbsoluteUrl:function(){var url=_1.toUrl("esri/dijit");if(/^http\:/i.test(url)){return url;}else{if(/^\/\//i.test(url)){return window.location.protocol+url;}else{if(/^\//i.test(url)){return window.location.protocol+"//"+window.location.host+url;}}}},_getManeuverImage:function(_13c){var _13d=this;if(_13c){var _13e=_13d._getAbsoluteUrl()+"/images/Directions/maneuvers/";var _13f=".png";if(_13c==="esriDMTStop"||_13c==="esriDMTDepart"){return "";}return _13e+_13c+_13f;}return "";},_loadPrintDirections:function(){var _140=this;var _141=_140._getAbsoluteUrl()+"/css/Directions.css";var _142=_140._getAbsoluteUrl()+"/css/DirectionsPrint.css";var dir;if(_e.isBodyLtr()){dir="ltr";}else{dir="rtl";}var _143="";_143+="<!DOCTYPE HTML>";_143+="<html lang=\"en\" class=\""+_140.get("theme")+"\" dir=\""+dir+"\">";_143+="<head>";_143+="<meta charset=\"utf-8\">";_143+="<meta http-equiv=\"X-UA-Compatible\" content=\"IE=Edge,chrome=1\">";_143+="<title>"+_140.directions.routeName+"</title>";_143+="<link rel=\"stylesheet\" media=\"screen\" type=\"text/css\" href=\""+_141+"\" />";_143+="<link rel=\"stylesheet\" media=\"print\" type=\"text/css\" href=\""+_142+"\" />";_143+="</head>";_143+="<body class=\""+_140._esriPrintPageClass+"\">";_143+="<div class=\""+_140._esriPrintBarClass+"\">";_143+="<div class=\""+_140._esriCloseButtonClass+"\" title=\""+_13.common.close+"\" onclick=\"window.close();\">"+_13.common.close+"</div>";_143+="<div id=\"printButton\" class=\""+_140._esriPrintButtonClass+"\" title=\""+_13.widgets.directions.print+"\" onclick=\"window.print();\">"+_13.widgets.directions.print+"</div>";_143+="</div>";_143+="<div class=\""+_140._esriPrintMainClass+"\">";_143+="<div class=\""+_140._esriPrintHeaderClass+"\">";_143+="<img class=\""+_140._esriPrintLogoClass+"\" src=\"https://www.arcgis.com/about/graphics/logo-esri.png\" />";_143+="<div class=\""+_140._esriPrintNameClass+"\">"+_140.directions.routeName+"</div>";_143+="<div class=\""+_140._esriPrintLengthClass+"\">"+_140._formatDistance(_140.directions.totalLength,_13.widgets.directions.units[_140._units].name)+". "+_140._formatTime(_140.directions.totalTime)+"</div>";_143+="<div id=\"print_helper\"></div>";_143+="<textarea onkeyup=\"document.getElementById('print_helper').innerHTML=this.value;\" id=\"print_area\" class=\""+_140._esriPrintNotesClass+"\" placeholder=\""+_13.widgets.directions.printNotes+"\"></textarea>";_143+="<div class=\""+_140._clearClass+"\"></div>";_143+="</div>";_143+="<div class=\""+_140._esriPrintDirectionsClass+"\">";_143+="<table>";_143+="<tbody>";var _144=0;_5.forEach(_140.directions.features,function(_145,i){var _146=_140.directions.strings[i],j;if(_146){var _147=_145.attributes.text;for(j=0;j<_146.length;j++){_147=_140._boldText(_147,_146[j].string);}_145.attributes.formattedText=_147;}else{_145.attributes.formattedText=_145.attributes.text;}var _148="";if(_140.directions.features.length===(i+1)){_148=_140._routeLastClass;}var step=(i+1);_143+="<tr class=\""+_148+"\">";_143+="<td class=\""+_140._routeIconColumnClass+"\">";var _149=_140._getManeuverImage(_145.attributes.maneuverType);var _14a;if(i===0){_14a=_140._getLetter(_144);_144++;}else{if(_145.attributes.maneuverType==="esriDMTStop"){_14a=_140._getLetter(_144);}else{if(_145.attributes.maneuverType==="esriDMTDepart"){_14a=_140._getLetter(_144);_144++;}}}if(_149){_143+="<img src=\""+_149+"\" />";}else{if(_14a){_143+="<div class=\""+_140._esriPrintStopLabelClass+"\">";_143+=_14a;_143+="</div>";}}_143+="</td>";_143+="<td class=\""+_140._routeTextColumnClass+"\">";_143+="<div><strong>"+_12.format(step)+".</strong> "+_145.attributes.formattedText+"</div>";_143+="</td>";_143+="<td class=\""+_140._routeTextColumnClass+"\">";_143+="<div class=\""+_140._routeLengthClass+"\">"+_140._formatDistance(_145.attributes.length,_13.widgets.directions.units[_140._units].abbr)+"</div>";_143+="</td>";_143+="</tr>";});_143+="</tbody>";_143+="</table>";_143+="</div>";_143+="<div class=\""+_140._esriPrintFooterClass+"\">";_143+="<p>"+_13.widgets.directions.printDisclaimer+"</p>";_143+="</div>";_143+="</div>";_143+="</body>";_143+="</html>";_140._printWindow.document.open("text/html","replace");_140._printWindow.document.write(_143);_140._printWindow.document.close();},_printDirections:function(){var _14b=this;var w=screen.width/2;var h=screen.height/1.5;var left=(screen.width/2)-(w/2);var top=(screen.height/2)-(h/2);_14b._printWindow=window.open("","directions_widget_print","toolbar=no, location=no, directories=no, status=yes, menubar=no, scrollbars=yes, resizable=yes, width="+w+", height="+h+", top="+top+", left="+left,true);_14b._loadPrintDirections();}});if(_b("extend-esri")){_4.setObject("dijit.Directions",_2c,_18);}return _2c;});