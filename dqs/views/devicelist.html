{{template "header" .}}
 
 {{with .pagedata}}
 {{$pagesize := .PageSize}}
 {{$curpage :=.CurrentPage}}
 {{$params := .QueryParams}}
<div class="container">
 <div class="panel panel-default">
  <!-- Default panel contents -->
 <div class="panel-heading"><span class="label label-info" style="font-size:120%;">设备信息</span></div>
  <!--<div class="panel-body">
    <p>...</p>
  </div>
 -->
  <!-- Table -->
  <table class="table table-striped table-bordered table-hover">
	<thead><tr><th>序号</th><th>设备编号</th><th>注册时间</th><th>在线状态</th><th>更新时间</th><th>管理</th></tr></thead>
	 	{{range $i,$v:=.Data}}
	 	<tr>
	 		<td>{{seqno $i $pagesize $curpage}}</td>
	 		<td>{{.SensorId}}</td><td>{{dateformat .RegisterTime "2006-01-02 15:04:05"}}</td>
	 		<td>{{if .Online}}<span class="label label-success">在线</span>{{else}}<span class="label label-default">离线</span> {{end}}</td>
	 		<td>{{dateformat .UpdateTime "2006-01-02 15:04:05"}}</td>
	 		<td>
	 			<a href="/device/{{.SensorId}}"><span class="label label-primary">设备参数</span> </a> /
	 			<a href="/alarm?sensorid={{.SensorId}}"><span class="label label-primary">报警信息</span> </a> /
      </td>
	 	</tr>
   {{end}}
	</table>
	
  <div class="panel-footer" style="padding:10px 15px 25px;">
   <span >{{.CurrentPage}} / {{.PageCount}} 页  [共 {{.Count}} 记录] </span>
   <span class="pull-right">
   	<ul class="pagination" style="margin:1px;padding-top:0px;">
      <li><a href="{{"/device?page=1&pagesize="|html}}{{.PageSize}}{{purl $params }}">&laquo;</a></li>
      {{range .NavPages}}
        <li {{if compare . $curpage}} class="active" {{end}} ><a href="{{"/device?page="|html}}{{.}}{{"&pagesize="|html}}{{$pagesize}}{{purl $params}}">{{.}}</a></li>
       {{end}}
      <li><a href="{{"/device?page="|html}}{{.PageCount}}{{"&pagesize="|html}}{{.PageSize}}{{purl $params}}">&raquo;</a></li>
     </ul>
   </span>
  </div>
  
</div>
</div>
{{end}}
{{template "footer"}}